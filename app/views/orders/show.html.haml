%header

-# MAIN

%main
  = render :partial => 'layouts/top_navbar'
  -# %h1{:style => "text-align: center;"} Ver Datos

  -# = render 'wizard_steps'
  %br
  %h3{:style => "margin: 0 auto; text-align: center;"}
    -# %i.material-icons{:style => "margin: 8px; font-size:46px;"} check
    Detalles de la Orden
  %br

  .card.container.col.s6{:style => "text-align: right;"}
    -# %b Estado:
    -# = @order.state.capitalize

  .card.container.row{:style => "margin: 0 auto; font-size: x-large;"}
    .div.col.s12
      .col.s6.right
        .input-field
          %select.icons
            %option{:disabled => "disabled", :selected => "selected", :value => ""} Elige el Estado
            %option.circle{:value => "1", "data-icon" => "/assets/blue.png"} En Proceso
            %option.circle{:value => "2", "data-icon" => "/assets/red.png"} Urgente
            %option.circle{:value => "3", "data-icon" => "/assets/orange.png"} En Prueba
            %option.circle{:value => "4", "data-icon" => "/assets/orange.png"} Facturada - Pendiente
            %option.circle{:value => "5", "data-icon" => "/assets/green.png"} Facturada - Pago
            %option.circle{:value => "6", "data-icon" => "/assets/null.png"} Anulada
    %p.col.s6.margin-f
      %b Cliente:
      = @order.client_name
    %p.col.s6.margin-f
      %b E-Mail:
      = @order.client_email
    %p.col.s6.margin-f
      %b Fecha de Entrada:
      = @order.created_at.strftime("%F")
    %p.col.s6.margin-f
      %b Fecha de Entrega:
      = @order.order_date
    %p.col.s6.margin-f
      %b Edad:
      = @order.age
    %p.col.s6.margin-f
      %b Sexo:
      = @order.sex
    %p.col.s6.margin-f
      %b Notas del Cliente:
      = @order.client_note
    %p.col.s6.margin-f
      %b Otras Notas:
      = @order.other_note
    %p.col.s6.margin-f
      %b Referencia:
      = @order.id
    %p.col.s6.margin-f
      %b Paciente:
      = @order.patient_name
    .row.col.s12{:style => "text-align: center;"}
      -# = link_to '<i class="material-icons" style="font-size: 100px;">print</i>'.html_safe, order_path(@order, format: 'pdf'), class: "col s6 m3 right", :target => "_blank", :style => "font-size:100px;"
      -# %p.col.s6.m3.tooltipped{:style => "color: cornflowerblue;", onclick: "printpage()", "data-tooltip" => "Imprimir Factura ó Cotización", "data-position" => "bottom"}
      -#   %i.material-icons.prefix{:style => "font-size:100px;"} print
      -# %p.col.s6.m4.tooltipped{:style => "color: lightcoral;", "data-tooltip" => "Imprimir Label", "data-position" => "bottom"}
      -#   %i.material-icons.prefix{:style => "font-size:100px;"} label

      -# %p.col.s6.m4.tooltipped{:style => "color: lightcoral;", "data-tooltip" => "Imprimir Label", "data-position" => "bottom"}
      -#   = link_to('<i class="material-icons" style="font-size:100px;">label</i>'.html_safe, {:controller => :orders, :action => :label_print, :format => 'pdf'}, target: '_blank')
      -# %p.col.s6.m4.tooltipped.modal-trigger{:href =>"#email_modal", :style => "color: darkseagreen;", "data-tooltip" => "Enviar Correo", "data-position" => "bottom"}
      -#   %i.material-icons.prefix{:style => "font-size:100px;"} email
      -# %p.col.s6.m4.tooltipped{:style => "color: lightseagreen;", "data-tooltip" => "Ver Orden de Trabajo", "data-position" => "bottom"}
      -#   %i.material-icons.prefix{:style => "font-size:100px;"} assignment

      %p.col.s6.m4.tooltipped{:style => "color: lightcoral;", "data-tooltip" => "Imprimir Label", "data-position" => "bottom"}
        = link_to((image_tag "Paper-100.png", :id => "show_icons"), {:controller => :orders, :action => :label_print, :format => 'pdf'}, target: '_blank')
      %p.col.s6.m4.tooltipped.modal-trigger{:href =>"#email_modal", :style => "color: darkseagreen;", "data-tooltip" => "Enviar Correo", "data-position" => "bottom"}
        = image_tag "Message-Filled-100.png", :id => "show_icons"
      %p.col.s6.m4.tooltipped{:style => "color: lightseagreen;", "data-tooltip" => "Ver Orden de Trabajo", "data-position" => "bottom"}
        = image_tag "Teeth-100.png", :id => "show_icons"



  .row.card.container.modal.modal-fixed-footer#email_modal{:style => "width: 1024px; height:800px; overflow-y: initial;"}
    .input-field.col.s12
      %input#email.validate{:placeholder => "mail@mail.com", :type => "email", :id => "email", :value => "#{@order.client_email}"}/
      %label{:for => "email"} Para
    .input-field.col.s12
      %input#subject.validate{:placeholder => "Asunto", :type => "text"}/
      %label{:for => "subject"} Asunto
    %br
    .file-field.input-field.col.s12
      .btn
        %span Elegir
        %input{:type => "file"}/
      .file-path-wrapper
        %input.file-path.validate{:type => "text"}/
    .input-field.col.s12
      %textarea#message.materialize-textarea{:length => "240"}
      %label{:for => "message"} Mensaje
    .modal-footer
      %a.modal-action.modal-close.waves-effect.waves-green.btn-flat{:href => "#!"} Enviar




  -# CONTENT
  .container
    %br
    %a{:href => orders_path, :class => "waves-effect waves-light btn blue"}
      %i.material-icons.right exit_to_app
      Salir
    - if current_user.role_level <= 2
      = link_to '<i class="material-icons" style="font-size: 2.3rem;">print</i>'.html_safe, order_path(@order, format: 'pdf'), class: "col s6 m3 right btn green", :target => "_blank", :data => {:confirm => 'Desea Facturar?'}


-# END OF MAIN

-# FOOTER

%footer.page-footer
  = render :partial => 'layouts/footer'
-# END OF FOOTER
-#
-# :javascript
-#   $(function() {
-#       Materialize.updateTextFields();
-#   });
-#   $( document ).ready(function(){
-#     document.getElementById("step_1").classList.add("complete");
-#     document.getElementById("step_2").classList.add("complete");
-#     document.getElementById("step_3").classList.add("complete");
-#     });
-#
-#
-#   function printpage()
-#     {
-#
-#       window.print()
-#     }
